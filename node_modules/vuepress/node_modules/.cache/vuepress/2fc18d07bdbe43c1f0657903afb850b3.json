{"remainingRequest":"/Users/mac/workbase/animation/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/mac/workbase/animation/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/workbase/animation/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/mac/workbase/animation/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/mac/workbase/animation/docs/tang/libai/README.md?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/workbase/animation/docs/tang/libai/README.md","mtime":1588235165920},{"path":"/Users/mac/workbase/animation/node_modules/cache-loader/dist/cjs.js","mtime":1585216689466},{"path":"/Users/mac/workbase/animation/node_modules/babel-loader/lib/index.js","mtime":1585637787426},{"path":"/Users/mac/workbase/animation/node_modules/cache-loader/dist/cjs.js","mtime":1585216689466},{"path":"/Users/mac/workbase/animation/node_modules/vue-loader/lib/index.js","mtime":1585637788225},{"path":"/Users/mac/workbase/animation/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1585637787437}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {};\n  }\n};",{"version":3,"sources":["README.md"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,eAAA;AACA,MADA,kBACA;AACA,WAAA,EAAA;AAEA;AAJA,CAAA","sourcesContent":["<template>\n<div class=\"content\"><h1 id=\"图像应用\"><a class=\"header-anchor\" href=\"#图像应用\">#</a> 图像应用</h1>\n<h2 id=\"wave-曲线\"><a class=\"header-anchor\" href=\"#wave-曲线\">#</a> Wave 曲线</h2>\n<p>最直观的应用是使用三角函数来绘制 Wave 曲线</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> x <span class=\"token operator\">&lt;</span> width<span class=\"token punctuation\">;</span> x<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> a<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> amplitude\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div><!--beforeend--></div><!--afterend--><sin-panel/>\n<p>曲线绘制完，这时曲线是静态的，如何让它动起来？可以通过不断改变水平偏移（xOffset），让曲线水平移动，即可产生动态的效果。</p>\n<p>结合三角函数偏移让左右成为波谷，中间成为波峰，就能得到曼妙的波纹。</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> x <span class=\"token operator\">&lt;</span> width<span class=\"token punctuation\">;</span> x<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> radians <span class=\"token operator\">=</span> x <span class=\"token operator\">/</span> width <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n  <span class=\"token keyword\">const</span> scale <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>radians <span class=\"token operator\">-</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span>\n  <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> <span class=\"token number\">0.02</span> <span class=\"token operator\">+</span> xSpeed<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> amplitude <span class=\"token operator\">*</span> scale\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br></div><!--beforeend--></div><!--afterend--><sin-run-panel/>\n<h2 id=\"水波图\"><a class=\"header-anchor\" href=\"#水波图\">#</a> 水波图</h2>\n<WaterWavePanel/>\n<p>了解了正弦曲线的一些属性，我们可以把这些属性来控制波浪，</p>\n<p><img src=\"./waterWave.png\" alt=\"An image\"></p>\n<p>振幅：控制波浪的高度</p>\n<p>周期：控制波浪的宽度</p>\n<p>相移：控制波浪的水平移动</p>\n<p>垂直位移：控制水位的高度</p>\n<p>动画效果的实现主要是利用相移，通过不断水平移动曲线，产出波浪移动的感觉，然后可以绘制多条曲线，曲线之间通过控制属性（高度、宽度、移动速度），产生视觉差，就会有波浪起伏的感觉了。</p>\n<p>根据定义波浪的参数配置，通过公式： y = 波浪高度 * sin(x * 波浪宽度 + 水平位移)，来绘制正弦曲线</p>\n<h4 id=\"水位控制\"><a class=\"header-anchor\" href=\"#水位控制\">#</a> 水位控制</h4>\n<p>水位控制，也就是映射到数据的百分比。\n我们来看看：y = A sin(Bx + C) + D，曲线的高度有 A 和 D 决定，A 控制波浪的高度，实际水位还是由 D 来控制。\n水位的高度，在可视化上含义就是数据的百分比，假设目前的百分比80%，水位的高度就 canvasHeight * 0.8，映射到坐标系统 y 的坐标就是 canvasHeight * (1 - 0.8)。（坐标原点在左上角）。</p>\n<h2 id=\"slowinslowout\"><a class=\"header-anchor\" href=\"#slowinslowout\">#</a> SlowInSlowOut</h2>\n<p>正余弦曲线有很自然地缓入缓出的特性，并且在一个周期里面从 -1 到 1 再回到 -1，非常适合用来模拟一些物理效果。因为真实世界里面，汽车都是缓慢启动，加速，减速，再缓慢减速直到速度变为 0 的，突变会让人很难受。左边的摆球是线性匀速摆动，右边是用了三角函数优化的结果。\n<SlowInSlowOut/>\n只需使用 sin 或 cos 乘以最大角度，就可以得到在摆动最大角度之间的 SlowInSlowOut。</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">/</span> <span class=\"token number\">180</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.25</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br></div><!--beforeend--></div><!--afterend--><h2 id=\"角度控制\"><a class=\"header-anchor\" href=\"#角度控制\">#</a> 角度控制</h2>\n<p>在开发过程中，我们有时候会跟角度打交道，比如在头像左上角（45deg）显示 Notification 红点，用鼠标控制 rotation 等等。\n运用三角函数，控制坐标的旋转，公式：</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code>dx <span class=\"token operator\">=</span> mouse<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> object<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span> \ndy <span class=\"token operator\">=</span> mouse<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> object<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span> \nobject<span class=\"token punctuation\">.</span>rotation <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">atan2</span><span class=\"token punctuation\">(</span>dy<span class=\"token punctuation\">,</span>dx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div><!--beforeend--></div><!--afterend--><Arrow/>\n<!-- ## SadMan -->\n<!-- <ManPanel/> -->\n</div>\n</template>\n<script>\nexport default {\n  data() {\n      return {\n      }\n  }\n}\n</script>"],"sourceRoot":"docs/tang/libai"}]}