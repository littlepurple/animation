{"remainingRequest":"/Users/mac/workbase/animation/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/mac/workbase/animation/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/workbase/animation/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/workbase/animation/docs/.vuepress/components/Arrow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/workbase/animation/docs/.vuepress/components/Arrow.vue","mtime":1585728698835},{"path":"/Users/mac/workbase/animation/node_modules/cache-loader/dist/cjs.js","mtime":1585216689466},{"path":"/Users/mac/workbase/animation/node_modules/babel-loader/lib/index.js","mtime":1585637787426},{"path":"/Users/mac/workbase/animation/node_modules/cache-loader/dist/cjs.js","mtime":1585216689466},{"path":"/Users/mac/workbase/animation/node_modules/vue-loader/lib/index.js","mtime":1585637788225}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\nimport Arrow from \"./Arrow\";\nexport default {\n  data: function data() {\n    return {\n      canvas: null,\n      ctx: null,\n      width: null,\n      height: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    var centerX = this.canvas.width / 2;\n    var centerY = this.canvas.height / 2;\n    this.resize();\n    window.addEventListener(\"resize\", function () {\n      return _this.resize();\n    }); // 将arrow的坐标设置为canvas的中心\n\n    var mouse = this.captureMouse(this.canvas);\n    var arrow1 = new Arrow();\n    var arrow2 = new Arrow();\n    arrow1.x = centerX;\n    arrow1.y = centerY;\n    arrow2.x = centerX / 2;\n    arrow2.y = centerY / 2;\n    this.run(function () {\n      _this.ctx.clearRect(0, 0, _this.width, _this.height); //设置旋转角度\n\n\n      arrow1.rotation = _this.RotationToMouse(mouse.x, mouse.y, arrow1.x, arrow1.y); //角度变化\n\n      arrow1.draw(_this.ctx);\n      arrow2.rotation = _this.RotationToMouse(mouse.x, mouse.y, arrow2.x, arrow2.y); //角度变化\n\n      arrow2.draw(_this.ctx);\n    });\n  },\n  methods: {\n    resize: function resize() {\n      this.width = this.canvas.width = this.canvas.offsetWidth;\n      this.height = this.canvas.height = this.canvas.offsetHeight; // this.planeDraw();\n    },\n    captureMouse: function captureMouse(element) {\n      var mouse = {\n        x: 0,\n        y: 0\n      };\n      element.addEventListener(\"mousemove\", function (event) {\n        var x, y;\n\n        if (event.pageX || event.pageY) {\n          x = event.pageX;\n          y = event.pageY;\n        } else {\n          x = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n          y = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n\n        x -= element.offsetLeft;\n        y -= element.offsetTop;\n        mouse.x = x;\n        mouse.y = y;\n      }, false);\n      return mouse;\n    },\n    RotationToMouse: function RotationToMouse(mx, my, ox, oy) {\n      var dx = mx - ox;\n      var dy = my - oy;\n      var angle = Math.atan2(dy, dx);\n      return angle;\n    },\n    run: function run(callback) {\n      var _this2 = this;\n\n      requestAnimationFrame(function () {\n        _this2.run(callback);\n      });\n      callback();\n    }\n  }\n};",{"version":3,"sources":["Arrow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <canvas ref=\"canvas\" class=\"canvas\" width=\"500\" height=\"500\" style=\"background:#ccc;\"></canvas>\n  </div>\n</template>\n<script>\nimport Arrow from \"./Arrow\";\nexport default {\n  data() {\n    return {\n      canvas: null,\n      ctx: null,\n      width: null,\n      height: null,\n    };\n  },\n  mounted() {\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    let centerX = this.canvas.width / 2;\n    let centerY = this.canvas.height / 2;\n    this.resize();\n    window.addEventListener(\"resize\", () => this.resize());\n    // 将arrow的坐标设置为canvas的中心\n    var mouse = this.captureMouse(this.canvas);\n    var arrow1 = new Arrow();\n    var arrow2 = new Arrow();\n    arrow1.x = centerX;\n    arrow1.y = centerY;\n\n    arrow2.x = centerX / 2;\n    arrow2.y = centerY / 2;\n    this.run(() => {\n      this.ctx.clearRect(0, 0, this.width, this.height);\n        //设置旋转角度\n      arrow1.rotation = this.RotationToMouse(mouse.x, mouse.y, arrow1.x, arrow1.y); //角度变化\n      arrow1.draw(this.ctx);\n      arrow2.rotation = this.RotationToMouse(mouse.x, mouse.y, arrow2.x, arrow2.y); //角度变化\n      arrow2.draw(this.ctx);\n   });\n  },\n  methods: {\n    resize() {\n      this.width = this.canvas.width = this.canvas.offsetWidth;\n      this.height = this.canvas.height = this.canvas.offsetHeight;\n      // this.planeDraw();\n    },\n    captureMouse(element) {\n      var mouse = { x: 0, y: 0 };\n      element.addEventListener(\n        \"mousemove\",\n        function(event) {\n          var x, y;\n          if (event.pageX || event.pageY) {\n            x = event.pageX;\n            y = event.pageY;\n          } else {\n            x =\n              event.clientX +\n              document.body.scrollLeft +\n              document.documentElement.scrollLeft;\n            y =\n              event.clientY +\n              document.body.scrollTop +\n              document.documentElement.scrollTop;\n          }\n\n          x -= element.offsetLeft;\n          y -= element.offsetTop;\n\n          mouse.x = x;\n          mouse.y = y;\n        },\n        false\n      );\n\n      return mouse;\n    },\n    RotationToMouse(mx, my, ox, oy) {\n      var dx = mx - ox;\n      var dy = my - oy;\n      var angle = Math.atan2(dy, dx);\n      return angle;\n    },\n    run(callback) {\n      requestAnimationFrame(() => {\n        this.run(callback);\n      });\n      callback();\n    }\n  }\n};\n</script>\n<style scoped>\n</style>"],"sourceRoot":"docs/.vuepress/components"}]}